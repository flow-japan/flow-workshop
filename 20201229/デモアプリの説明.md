
アプリに実装した機能
今回はFlow-js-sdkに含まれているfclライブラリを使い、以下の機能を持ったアプリを開発しました。

Blocto社のウォレットと接続
特定のアドレスの情報取得
スクリプトの実行
トランザクションの実行
コントラクトのデプロイ（トランザクションの一種）

FCL
ウォレットとの通信など、dappsを作る際に必要な処理を簡単に実行できるようにsdk抽象化したライブラリです。sdkの仕様がかなり頻繁にアップデートされるので、極力fclを使うことをお勧めします。

ウォレットと認証
Fclを初期化する際に、ブロックチェーンの接続ノードとウォレットプロバイダーのアドレスを指定すると、あとは、ライブラリが適宜必要なタイミングでウォレットを呼び出します。

今回のデモアプリでは、Flow公認のウォレットプロバイダーであるBlocto社のウォレットを使います。このウォレットは、WEBウォレットのため、MetamaskやDappBrowserのように、クライアントアプリにウォレット機能を持たせる必要がなく、safariやchromeだけでサービスを利用することができます。

実行の方法はコードとコメントを参照


スクリプト
ブロックチェーン上の状態を変えない、処理をfclではスクリプトと呼んでいます。
https://github.com/onflow/flow-js-sdk/tree/master/packages/fcl/src/scripts

実行の方法はコードを参照


トランザクション
スクリプトの状態を変える処理をトランザクションと呼びます。

https://github.com/onflow/flow-js-sdk/tree/master/packages/fcl/src/transactions

実行の方法はコードを参照



コントラクトのデプロイ
コントラクトのデプロイもトランザクションを実行する処理とほとんど変わらないのですが、デプロイするコントラクトを引数でfclに渡す必要があります。



ネットワークトークン（参考）
スクリプトは特にネットワークトークンを消費しない物で、コントラクトのデプロイ時とトランザクション実行時にネットワークトークンを消費します。

メインネットのネットワークトークンはすでに販売していますが、現在はロック中のため、メインネットでトランザクションを実行することはできません。

今回のアプリではテストネットを使います、テストネットのネットワークトークンはFlowの公式ページから申請することで、100Flowもらうことができます。

テストネットに今回使ったBlocto社のウォレットを使う場合、ネットワークトークンを代理で支払う設定になっているので、トランザクションの実行に際してネットワークトークンは必要ありません。
